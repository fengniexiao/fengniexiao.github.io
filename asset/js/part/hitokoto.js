!function n(r,u,i){function a(t,e){if(!u[t]){if(!r[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}o=u[t]={exports:{}},r[t][0].call(o.exports,function(e){return a(r[t][1][e]||e)},o,o.exports,n,r,u,i)}return u[t].exports}for(var c="function"==typeof require&&require,e=0;e<i.length;e++)a(i[e]);return a}({1:[function(e,t,o){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;o.default=function(t){if(t.method&&t.url){var e=new XMLHttpRequest;if(e.open(t.method,t.url+"?"+function(e){if("object"!==r(e))return"";var t,o,n=[];for(t in e)e.hasOwnProperty(t)&&(o=e[t],n.push(window.encodeURIComponent(t)+"="+window.encodeURIComponent(o)));return n.join("&")}(t.data)),e.timeout=3e4,"post"===t.method.toLowerCase()&&e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.headers)for(var o in t.headers)t.headers.hasOwnProperty(o)&&e.setRequestHeader(o,t.headers[o]);t.timeout&&(e.timeout=t.timeout),t.dataType&&(e.responseType=t.dataType),e.addEventListener("readystatechange",function(){4===e.readyState&&200===e.status&&e.response?t.success&&t.success(e.response):400<e.status&&t.error(e.status)}),t.error&&(e.addEventListener("error",function(e){t.error(e)}),e.addEventListener("timeout",function(e){t.error(e)})),e.send(t.data||null)}}},{}],2:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e,t){var o=document.querySelector(".p-".concat(e));o?(t&&t(o),o.classList.remove("HIDE")):(0,n.default)({url:"/asset/part/".concat(e,".html"),method:"get",dataType:"document",success:function(e){t&&t(e.body.firstElementChild)}})};var n=(o=e("./ajax.js"))&&o.__esModule?o:{default:o}},{"./ajax.js":1}],3:[function(e,t,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=r(e("../common/part.js")),u=r(e("../common/ajax.js"));function r(e){return e&&e.__esModule?e:{default:e}}var i="hitokoto",a=null,c=null,s=!1,l=null;o.default={tag:i,init:function(e,t){(0,n.default)(i,function(e){a=e,document.querySelector(i)&&document.querySelector(i).replaceWith(a),t&&t(a)})},update:function r(e){var t;a&&!s&&(window.clearTimeout(l),window.clearInterval(c),t=a.getAttribute("data-type"),(0,u.default)({url:a.getAttribute("data-api"),method:"get",dataType:"json",data:{c:null===t||"r"===t?"":t},success:function(o){o.hitokoto=o.hitokoto.trim();var n=0;c=window.setInterval(function(e){var t;0===a.querySelector(".p-hitokoto-content").innerText.length?(window.clearInterval(c),c=window.setInterval(function(e){n>o.hitokoto.length?(window.clearInterval(c),window.clearTimeout(l),s=!1,l=window.setTimeout(r,96e3)):a.querySelector(".p-hitokoto-content").innerText=o.hitokoto.substr(0,n++)},160),void 0===o.from_who||null===o.from_who||""===o.from_who.trim()?a.querySelector(".p-hitokoto-name").innerText=o.from.trim():a.querySelector(".p-hitokoto-name").innerText=o.from_who.trim()):(t=a.querySelector(".p-hitokoto-content").innerText,a.querySelector(".p-hitokoto-content").innerText=t.substr(0,t.length-1),s=!0)},160)}}))},clear:function(e){window.clearTimeout(l),window.clearInterval(c),s=!1}}},{"../common/ajax.js":1,"../common/part.js":2}]},{},[3]);