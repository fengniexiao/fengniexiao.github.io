!function(){return function e(r,t,o){function n(a,d){if(!t[a]){if(!r[a]){var u="function"==typeof require&&require;if(!d&&u)return u(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var i=t[a]={exports:{}};r[a][0].call(i.exports,function(e){return n(r[a][1][e]||e)},i,i.exports,e,r,t,o)}return t[a].exports}for(var s="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}}()({1:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=(e=>{if(!e.method||!e.url)return;let r=new XMLHttpRequest;if(r.open(e.method,e.url+"?"+(e=>{if("object"!=typeof e)return"";let r=[];for(const t in e)if(e.hasOwnProperty(t)){const o=e[t];r.push(window.encodeURIComponent(t)+"="+window.encodeURIComponent(o))}return r.join("&")})(e.data)),r.timeout=3e4,"post"===e.method.toLowerCase()&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.headers)for(const t in e.headers)e.headers.hasOwnProperty(t)&&r.setRequestHeader(t,e.headers[t]);e.timeout&&(r.timeout=e.timeout),e.dataType&&(r.responseType=e.dataType),r.addEventListener("readystatechange",()=>{4===r.readyState&&200===r.status&&r.response?e.success&&e.success(r.response):r.status>400&&e.error(r.status)}),e.error&&(r.addEventListener("error",r=>{e.error(r)}),r.addEventListener("timeout",r=>{e.error(r)})),r.send(e.data?e.data:null)})},{}],2:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,r){let t=document.querySelector(`.p-${e}`);t?(r&&r(t),t.classList.remove("HIDE")):(0,s.default)({url:`/asset/part/${e}.html`,method:"get",dataType:"document",success(e){r&&r(e.body.firstElementChild)}})};var o,n=e("./ajax.js"),s=(o=n)&&o.__esModule?o:{default:o}},{"./ajax.js":1}],3:[function(e,r,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,n=e("../common/part.js"),s=(o=n)&&o.__esModule?o:{default:o};let a="records",d=null;const u=(e,r)=>{let t=e.querySelector(".p-record-cover img"),o=e.querySelector(".p-record-date"),n=e.querySelector(".p-record-title .p-record-inner"),s=e.querySelector(".p-record-type .p-record-inner"),a=e.querySelector(".p-record-author .p-record-inner"),d=e.querySelector(".p-record-source .p-record-inner"),u=e.querySelector(".p-record-summary .p-record-inner"),c=e.querySelector(".p-record-progress .p-record-inner");r.cover&&(t.src=r.cover),r.date&&(o.innerText=r.date.replace(/\s/g,"")),r.title&&(n.innerText=r.title),s.setAttribute("data-lang",`records.types.${r.type?r.type:"default"}`),r.author&&(a.innerText=r.author),r.source&&(d.innerText=r.source),r.summary&&(u.innerText=r.summary);let i=c.querySelector(".p-record-progress-current");if(r.progress&&i){let e=r.progress.replace(/\s/g,""),t=/^[0-9]+\/[0-9]+$/.test(e),o=/^[0-9]{1,3}%$/.test(e);if(t){let r=e.split("/"),t=parseInt(r[0])/parseInt(r[1])*100;i.style.width=t.toFixed()+"%",i.innerText=e.replace("/"," / "),i.classList.add(t<50?"low":"high")}else o?(i.style.width=e,i.innerText=e,i.classList.add(parseFloat(e.replace("%",""))<50?"low":"high")):(i.innerText=r.progress.trim(),i.classList.add("high"))}else i.style.width=0};t.default={tag:a,init:(e,r)=>{(0,s.default)(a,t=>{if(d=t,document.querySelector(a)&&document.querySelector(a).replaceWith(d),e&&e.data&&e.data.length){let r=d.querySelector(".p-record");e.data.forEach((t,o)=>{if(o+1===e.data.length)u(r,t);else{let e=r.cloneNode(!0);u(e,t),r.before(e)}})}r&&r(d)})}}},{"../common/part.js":2}]},{},[3]);