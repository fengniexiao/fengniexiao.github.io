!function(){return function e(t,r,n){function a(i,s){if(!r[i]){if(!t[i]){var d="function"==typeof require&&require;if(!s&&d)return d(i,!0);if(o)return o(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[i]={exports:{}};t[i][0].call(l.exports,function(e){return a(t[i][1][e]||e)},l,l.exports,e,t,r,n)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)a(n[i]);return a}}()({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=(e=>{if(!e.method||!e.url)return;let t=new XMLHttpRequest;if(t.open(e.method,e.url+"?"+(e=>{if("object"!=typeof e)return"";let t=[];for(const r in e)if(e.hasOwnProperty(r)){const n=e[r];t.push(window.encodeURIComponent(r)+"="+window.encodeURIComponent(n))}return t.join("&")})(e.data)),t.timeout=3e4,"post"===e.method.toLowerCase()&&t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.headers)for(const r in e.headers)e.headers.hasOwnProperty(r)&&t.setRequestHeader(r,e.headers[r]);e.timeout&&(t.timeout=e.timeout),e.dataType&&(t.responseType=e.dataType),t.addEventListener("readystatechange",()=>{4===t.readyState&&200===t.status&&t.response?e.success&&e.success(t.response):t.status>400&&e.error(t.status)}),e.error&&(t.addEventListener("error",t=>{e.error(t)}),t.addEventListener("timeout",t=>{e.error(t)})),t.send(e.data?e.data:null)})},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){let r=document.querySelector(`.p-${e}`);r?(t&&t(r),r.classList.remove("HIDE")):(0,o.default)({url:`/asset/part/${e}.html`,method:"get",dataType:"document",success(e){t&&t(e.body.firstElementChild)}})};var n,a=e("./ajax.js"),o=(n=a)&&n.__esModule?n:{default:n}},{"./ajax.js":1}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=o(e("../common/part.js")),a=o(e("../common/ajax.js"));function o(e){return e&&e.__esModule?e:{default:e}}let i="codelib",s=null,d=null,c=null;const l=document.createElement("i");l.className="far fa-file-code";r.default={tag:i,init:(e,t)=>{(0,n.default)(i,r=>{if(s=r,document.querySelector(i)&&document.querySelector(i).replaceWith(s),e){if(e.readme){let t=(new DOMParser).parseFromString(e.readme,"text/html");t.querySelectorAll("a[aria-hidden]").forEach(e=>{e.remove()}),t.querySelectorAll("a:not([aria-hidden])").forEach(e=>{e.target="_blank"});let r=s.querySelector(".p-codelib-readme"),n=s.querySelector(".p-codelib-more");n.onclick=(e=>{r.classList.contains("active")?r.classList.remove("active"):r.classList.add("active")}),r.insertBefore(t.body.firstElementChild,n)}e.onstart&&(d=e.onstart),e.onended&&(c=e.onended)}t&&t(s)})},update:e=>{if(s&&e&&e.length){let t=s.querySelector(".p-codelib-list");e.forEach(e=>{if("dir"===e.type){let r=document.createElement("li");r.setAttribute("data-git-path",e.path);let n=document.createElement("div");n.classList.add("codelib-cat"),n.innerText=e.name,r.appendChild(n);let o=document.createElement("ul");o.classList.add("codelib-inner"),o.setAttribute("data-git-cat",e.name),r.appendChild(o),t.appendChild(r),n.onclick=(t=>{r.classList.contains("active")?(o.innerHTML="",r.classList.remove("active")):(d&&d(),(0,a.default)({url:`//api.github.com/repos/fengniexiao/code-lib/contents/${encodeURIComponent(e.path)}`,method:"get",dataType:"json",headers:{accept:"application/vnd.github+json"},success(e){e&&e.length&&(e.forEach(e=>{if("file"===e.type){let t=document.createElement("li"),r=document.createElement("a");r.target="_blank",r.innerText=e.name,r.href=e.html_url,t.appendChild(l.cloneNode(!0)),t.appendChild(r),o.appendChild(t)}}),r.classList.add("active"),c&&c())}}))})}})}}}},{"../common/ajax.js":1,"../common/part.js":2}]},{},[3]);